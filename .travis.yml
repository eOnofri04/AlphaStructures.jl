language: julia

os: osx

branches:
  only:
    - master

julia:
  - 1.4

notifications:
  email: false

after_success:
  - julia -e 'using Pkg; Pkg.add("Documenter");'
  - julia -e 'cd(Pkg.dir("AlphaStructures")); include(joinpath("docs", "make.jl"));'

deploy:
  provider: pages
  skip_cleanup: true
  github-token: $GITHUB_TOKEN
  keep-history: true
  local-dir: docs/build
  on:
    branch: master
